---
permalink: sg6000/optional-enabling-node-encryption.html 
sidebar: sidebar 
keywords: storagegrid, sg6000, storage node, storage appliance, Enabling, enable, node encryption, encryption, kms, key management server 
summary: ノードの暗号化を有効にすると、アプライアンス内のディスクをセキュアなキー管理サーバ \ （ KMS ）暗号化によってサイトの物理的な損失やサイトからの削除から保護できます。アプライアンスのインストール時にノード暗号化を選択して有効にする必要があります。また、 KMS 暗号化プロセスが開始されると、ノード暗号化の選択を解除できません。 
---
= オプション：ノード暗号化を有効にします
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ノードの暗号化を有効にすると、アプライアンス内のディスクを安全なキー管理サーバ（ KMS ）暗号化によってサイト内での物理的な損失やデータの削除から保護することができます。アプライアンスのインストール時にノード暗号化を選択して有効にする必要があります。また、 KMS 暗号化プロセスが開始されると、ノード暗号化の選択を解除できません。

StorageGRID の管理手順の KMS に関する情報を確認します。

ノード暗号化が有効になっているアプライアンスは、 StorageGRID サイト用に設定されている外部キー管理サーバ（ KMS ）に接続します。各 KMS （または KMS クラスタ）は、サイトにあるすべてのアプライアンスノードの暗号化キーを管理します。これらのキーは、ノード暗号化が有効なアプライアンスで、各ディスク上のデータを暗号化および復号化します。

Grid Manager StorageGRID では、アプライアンスのインストール前またはインストール後に KMS を設定できます。詳細については、 StorageGRID の管理手順の KMS とアプライアンスの設定に関する情報を参照してください。

* アプライアンスをインストールする前に KMS を設定すると、 KMS で制御される暗号化が開始されます。この暗号化は、アプライアンスでノード暗号化を有効にし、 KMS が設定されている StorageGRID サイトに追加します。
* アプライアンスをインストールする前に KMS が設定されていない場合は、 KMS が設定され、アプライアンスノードを含むサイトで利用可能になった時点で、ノード暗号化が有効になっている各アプライアンスで KMS 制御された暗号化が実行されます。



IMPORTANT: ノード暗号化が有効になっているアプライアンスで KMS に接続する前に存在するデータは、セキュアでない一時キーで暗号化されます。キーが KMS から提供される値に設定されるまで、アプライアンスの取り外しや盗難は防止されません。

ディスクの復号化に KMS キーが必要な場合を除いて、アプライアンス上のデータを取得することはできず、データが実質的に失われます。これは、 KMS から復号化キーを取得できない場合に発生します。顧客が KMS 設定をクリアするか、 KMS キーの有効期限が切れるか、 KMS への接続が失われるか、 KMS キーがインストールされている StorageGRID システムからアプライアンスが削除されると、キーにアクセスできなくなります。

.手順
. ブラウザを開き、アプライアンスのコンピューティングコントローラの IP アドレスのいずれかを入力します。
+
「 * https://_Controller_IP_:8443*` 」と入力します

+
「 _Controller_IP_` 」は、 3 つの StorageGRID ネットワークのいずれか上のコンピューティング・コントローラ（ストレージ・コントローラではない）の IP アドレスです。

+
StorageGRID アプライアンスインストーラのホームページが表示されます。

+

IMPORTANT: アプライアンスを KMS キーで暗号化すると、アプライアンスディスクを復号化する際に同じ KMS キーを使用する必要がなくなります。

. Configure Hardware * > * Node Encryption * を選択します。
+
image::../media/kms_fde_enabled.png[KMS FDE が有効かどうか]

. [ ノード暗号化を有効にする *] を選択します。
+
アプライアンスをインストールする前に、データ損失のリスクなしにノード暗号化を有効にする * を選択解除できます。インストールが開始されると、アプライアンスノードは StorageGRID システム内の KMS 暗号化キーにアクセスして、ディスク暗号化を開始します。アプライアンスのインストール後、ノード暗号化を無効にすることはできません。

+

IMPORTANT: KMS を含む StorageGRID サイトにノード暗号化が有効になっているアプライアンスを追加すると、そのノードで KMS 暗号化を使用するのを停止することはできません。

. [ 保存（ Save ） ] を選択します。
. アプライアンスを StorageGRID システムのノードとして導入します。
+
KMS で制御される暗号化は、アプライアンスが StorageGRID サイト用に設定されている KMS キーにアクセスすると開始されます。KMS 暗号化プロセス中にインストーラによって進捗状況のメッセージが表示されます。この処理には、アプライアンス内のディスクボリュームの数によっては数分かかることがあります。

+

NOTE: アプライアンスは、最初に各ディスクボリュームにランダムな KMS 以外の暗号化キーを割り当てて構成します。ディスクはこの一時的な暗号化キーを使用して暗号化されます。このキーは、ノード暗号化が有効になっているアプライアンスが StorageGRID サイト用に設定されている KMS キーにアクセスするまではセキュリティ保護されません。



アプライアンスノードがメンテナンスモードのときに使用されているノード暗号化ステータス、 KMS の詳細、および証明書を確認できます。

xref:../admin/index.adoc[StorageGRID の管理]

xref:monitoring-node-encryption-in-maintenance-mode.adoc[メンテナンスモード（ SG6000 ）でのノード暗号化の監視]
