---
permalink: admin/what-object-segmentation-is.html 
sidebar: sidebar 
keywords: object segmentation, multipart upload 
summary: オブジェクトのセグメント化は、 1 つのオブジェクトを小さな固定サイズのオブジェクトに分割して、大きいオブジェクトによるストレージとリソースの使用を最適化するプロセスです。S3 のマルチパートアップロードでもセグメント化されたオブジェクトが作成され、各パートを表すオブジェクトが 1 つ作成されます。 
---
= オブジェクトのセグメント化とは
:icons: font
:imagesdir: ../media/


[role="lead"]
オブジェクトのセグメント化は、 1 つのオブジェクトを小さな固定サイズのオブジェクトに分割して、大きいオブジェクトによるストレージとリソースの使用を最適化するプロセスです。S3 のマルチパートアップロードでもセグメント化されたオブジェクトが作成され、各パートを表すオブジェクトが 1 つ作成されます。

オブジェクトが StorageGRID システムに取り込まれると、 LDR サービスはオブジェクトを複数のセグメントに分割し、すべてのセグメントのヘッダー情報をコンテンツとして表示するセグメントコンテナを作成します。

image::../media/object_segmentation_diagram.gif[オブジェクトのセグメント化のワークフロー]

セグメントコンテナを読み出す際、 LDR サービスは各セグメントから元のオブジェクトを組み立て、クライアントに返します。

コンテナとセグメントは同じストレージノードに格納する必要はありません。コンテナとセグメントは、 ILM ルールで指定されたストレージプール内の任意のストレージノードに格納できます。

各セグメントは StorageGRID システムによって個別に処理され、 Managed Objects や Stored Objects などの属性の対象としてカウントされます。たとえば、 StorageGRID システムに格納されているオブジェクトが 2 つのセグメントに分割された場合、取り込みが完了すると次のように Managed Objects の値が 3 つ増えます。

セグメントコンテナ + セグメント 1 + セグメント 2 = 3 個の格納オブジェクト

大きいオブジェクトを処理する際のパフォーマンスを向上させるには、次の点を確認します。

* 各ゲートウェイおよびストレージノードに、必要なスループットに十分なネットワーク帯域幅があること。たとえば、グリッドネットワークとクライアントネットワークは 10Gbps イーサネットインターフェイス上に別々に設定します。
* 必要なスループットに十分な数のゲートウェイノードとストレージノードが導入されていること。
* 各ストレージノードのディスク IO パフォーマンスが、必要なスループットに対して十分であること。

