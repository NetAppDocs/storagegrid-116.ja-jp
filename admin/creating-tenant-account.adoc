---
permalink: admin/creating-tenant-account.html 
sidebar: sidebar 
keywords: create tenant, tenant account 
summary: StorageGRID システム内のストレージへのアクセスを制御するために、少なくとも 1 つのテナントアカウントを作成する必要があります。 
---
= テナントアカウントを作成する
:icons: font
:imagesdir: ../media/


[role="lead"]
StorageGRID システム内のストレージへのアクセスを制御するために、少なくとも 1 つのテナントアカウントを作成する必要があります。

テナントアカウントを作成する際は、名前、クライアントプロトコル、およびオプションでストレージクォータを指定します。StorageGRID でシングルサインオン（ SSO ）が有効になっている場合は、テナントアカウントを設定するための Root Access 権限が割り当てられているフェデレーテッドグループも指定します。StorageGRID がシングルサインオンを使用していない場合は、テナントアカウントが独自のアイデンティティソースを使用するかどうかを指定し、テナントのローカル root ユーザの初期パスワードを設定する必要があります。

Grid Manager のウィザードを使用して、テナントアカウントを作成できます。手順は、実行するかどうかによって異なります xref:using-identity-federation.adoc[アイデンティティフェデレーション] および xref:configuring-sso.adoc[シングルサインオン] テナントアカウントの作成に使用する Grid Manager アカウントが、 Root アクセス権限を持つ管理者グループに属しているかどうかが設定されます。

.必要なもの
* を使用して Grid Manager にサインインします xref:../admin/web-browser-requirements.adoc[サポートされている Web ブラウザ]。
* 特定のアクセス権限が必要です。
* Grid Manager 用に設定されているアイデンティティソースをテナントアカウントで使用し、テナントアカウントにフェデレーテッドグループへの root アクセス権限を付与する場合は、そのフェデレーテッドグループを Grid Manager にインポートしておく必要があります。この管理グループに Grid Manager の権限を割り当てる必要はありません。を参照してください xref:managing-admin-groups.adoc[管理者グループの管理手順]。


.手順
. 「 * tenants * 」を選択します
. Create * を選択し、テナントに関する次の情報を入力します。
+
.. * 名前 * ：テナントアカウントの名前を入力します。テナント名は一意である必要はありません。作成したテナントアカウントには、一意の数値アカウント ID が割り当てられます。
.. * 概要 * （オプション）：テナントの識別に役立つ概要 を入力します。
.. * クライアントタイプ * ：クライアントタイプとして * S3 * または * Swift * を選択します。
.. * ストレージクォータ * （オプション）：このテナントにストレージクォータを設定する場合は、クォータの数値を入力し、正しい単位（ GB 、 TB 、 PB ）を選択します。
+
image::../media/tenant_create_wizard_step_1.png[テナントアカウントページ - 空白]



. 「 * Continue 」を選択し、 S3 または Swift テナントを設定します。


[role="tabbed-block"]
====
.S3 テナント
--
テナントに適した権限を選択します。これらの権限の一部には追加の要件があります。詳細については、各権限のオンラインヘルプを参照してください。

* プラットフォームサービスを許可します
* 独自のアイデンティティソースを使用（ SSO が使用されていない場合にのみ選択可能）
* S3 の選択を許可します（を参照） xref:manage-s3-select-for-tenant-accounts.adoc[テナントアカウント用の S3 Select を管理します])


--
.Swift テナント
--
テナントが独自のアイデンティティソースを使用する場合は、 * Use own identity source * を選択します（ SSO が使用されていない場合にのみ選択可能）。

--
====
. 「 * Continue 」を選択し、テナントアカウントの root アクセスを定義します。


[role="tabbed-block"]
====
.アイデンティティフェデレーションが設定されてい
--
. ローカル root ユーザのパスワードを入力します。
. [ テナントの作成 ] を選択します。


--
.SSO が有効です
--
SSO が StorageGRID で有効になっている場合、テナントは Grid Manager 用に設定されたアイデンティティソースを使用する必要があります。ローカルユーザはサインインできません。テナントアカウントを設定するための Root Access 権限が割り当てられているフェデレーテッドグループを指定します。

. テナントに対する最初の Root アクセス権限を割り当てる既存のフェデレーテッドグループを Grid Manager から選択します。
+

NOTE: 適切な権限がある場合は、このフィールドを選択すると、 Grid Manager から既存のフェデレーテッドグループが表示されます。それ以外の場合は、グループの一意の名前を入力します。

. [ テナントの作成 ] を選択します。


--
.SSO が有効になっていない
--
. テナントが独自のグループとユーザを管理するか、 Grid Manager 用に設定されているアイデンティティソースを使用するかに応じて、次の表に示す手順を実行します。
+
[cols="1a,3a"]
|===
| テナントの状況 | 手順 


 a| 
独自のグループとユーザを管理します
 a| 
.. [ 独自のアイデンティティソースを使用する *] を選択します。
+
* 注：このチェックボックスをオンにした状態でテナントグループとユーザにアイデンティティフェデレーションを使用する場合、テナントは独自のアイデンティティソースを設定する必要があります。を参照してください xref:../tenant/index.adoc[テナントアカウントを使用するための手順]。

.. テナントのローカル root ユーザのパスワードを指定し、 * テナントの作成 * を選択します。
.. テナントを構成するには、 * Sign in as root * （ root としてサインイン）を選択します。後でテナントを構成するには、 * Finish * （完了）を選択します。




 a| 
Grid Manager 用に設定されたグループとユーザを使用する
 a| 
.. 次のいずれか、または両方を実行します。
+
*** テナントに対する最初の root アクセス権限を持つ既存のフェデレーテッドグループを Grid Manager から選択する。
+
* 注：適切な権限がある場合は、フィールドを選択すると、 Grid Manager から既存のフェデレーテッドグループが表示されます。それ以外の場合は、グループの一意の名前を入力します。

*** テナントのローカル root ユーザのパスワードを指定します。


.. [ テナントの作成 ] を選択します。


|===


--
====
. テナントにサインインするには、次の手順を実行します。
+
** 制限されたポートで Grid Manager にアクセスする場合は、テナントテーブルで「 * Restricted * 」を選択して、このテナントアカウントへのアクセス方法の詳細を確認してください。
+
Tenant Manager の URL の形式は次のとおりです。

+
https://_FQDN_or_Admin_Node_IP:port_/?accountId=_20-digit-account-id_/`

+
*** `_fqdn_or_Admin_Node_IP_` は、管理ノードの完全修飾ドメイン名または IP アドレスです
*** 「 _port_」 はテナント専用ポートです
*** 「 _20 桁の account-id_ 」は、テナントの一意のアカウント ID です


** ポート 443 で Grid Manager にアクセスしているが、ローカル root ユーザのパスワードを設定していない場合は、 Grid Manager の tenants テーブルで * Sign In * を選択し、 Root Access フェデレーテッドグループにユーザのクレデンシャルを入力します。
** ポート 443 で Grid Manager にアクセスしている場合にローカル root ユーザのパスワードを設定すると、次のようになります。
+
... テナントを今すぐ設定するには、「 * root としてサインイン」を選択します。
+
サインインすると、バケットまたはコンテナ、アイデンティティフェデレーション、グループ、ユーザを設定するためのリンクが表示されます。

+
image::../media/configure_tenant_account.png[テナントアカウントを設定する]

... リンクを選択してテナントアカウントを設定します。
+
各リンクをクリックすると、 Tenant Manager の対応するページが開きます。このページの手順については、を参照してください xref:../tenant/index.adoc[テナントアカウントを使用するための手順]。

... それ以外の場合は、 [ 完了 ] を選択して、テナントに後でアクセスします。




. テナントにあとからアクセスするには、次の手順を
+
[cols="1a,2a"]
|===
| 使用するポート | 次のいずれかを実行 ... 


 a| 
ポート 443
 a| 
** Grid Manager で * tenants * を選択し、テナント名の右側にある * Sign In * を選択します。
** Web ブラウザにテナントの URL を入力します。
+
https://_FQDN_or_Admin_Node_IP_/?accountId=_20-digit-account-id_/`

+
*** `_fqdn_or_Admin_Node_IP_` は、管理ノードの完全修飾ドメイン名または IP アドレスです
*** 「 _20 桁の account-id_ 」は、テナントの一意のアカウント ID です






 a| 
制限されたポート
 a| 
** Grid Manager から * tenants * を選択し、 * Restricted * を選択します。
** Web ブラウザにテナントの URL を入力します。
+
https://_FQDN_or_Admin_Node_IP:port_/?accountId=_20-digit-account-id_`

+
*** `_fqdn_or_Admin_Node_IP_` は、管理ノードの完全修飾ドメイン名または IP アドレスです
*** `_port_` は、テナント専用の制限付きポートです
*** 「 _20 桁の account-id_ 」は、テナントの一意のアカウント ID です




|===


.関連情報
* xref:controlling-access-through-firewalls.adoc[ファイアウォールによるアクセスの制御]
* xref:manage-platform-services-for-tenants.adoc[S3 テナントアカウントのプラットフォームサービスを管理します]

