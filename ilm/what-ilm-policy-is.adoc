---
permalink: ilm/what-ilm-policy-is.html 
sidebar: sidebar 
keywords: what is information lifecycle management policy, ilm policy 
summary: 情報ライフサイクル管理（ ILM ）ポリシーは、優先順位が付けられた一連の ILM ルールです。このポリシーによって、 StorageGRID システムが時間の経過に伴ってオブジェクトデータを管理する方法が決まります。 
---
= ILM ポリシーとは
:icons: font
:imagesdir: ../media/


[role="lead"]
情報ライフサイクル管理（ ILM ）ポリシーは、優先順位が付けられた一連の ILM ルールです。 StorageGRID システムが時間の経過に伴ってオブジェクトデータを管理する方法を決定します。



== ILM ポリシーによるオブジェクトの評価方法

StorageGRID システムのアクティブな ILM ポリシーは、すべてのオブジェクトの配置、期間、データ保護を制御します。

クライアントがオブジェクトを StorageGRID に保存すると、オブジェクトはアクティブポリシー内の順序付けられた ILM ルールに照らして次のように評価されます。

. ポリシー内の最初のルールのフィルタがオブジェクトに一致すると、オブジェクトはそのルールの取り込み動作に従って取り込まれ、そのルールの配置手順に従って格納されます。
. 最初のルールのフィルタがオブジェクトに一致しない場合、オブジェクトは一致が見つかるまでポリシー内の後続の各ルールに照らして評価されます。
. どのルールもオブジェクトに一致しない場合は、ポリシー内のデフォルトルールの取り込み動作と配置手順が適用されます。デフォルトルールは、ポリシー内の最後のルールです。デフォルトルールは、すべてのテナント、すべてのバケット、およびすべてのオブジェクトバージョンに適用する必要があり、高度なフィルタは使用できません。




== ILM ポリシーの例

この例の ILM ポリシーは 3 つの ILM ルールを使用します。

image::../media/policy_for_two_tenants.png[2 テナントのポリシーの例]

この例では、ルール 1 はテナント A に属するすべてのオブジェクトに一致しますこれらのオブジェクトは、 3 つのサイトに 3 つのレプリケートコピーとして格納されます。他のテナントに属するオブジェクトはルール 1 に一致しないため、ルール 2 に照らして評価されます。

ルール 2 では、他のテナントのすべてのオブジェクトが一致しますが、 1MB より大きいオブジェクトのみが該当します。これらのオブジェクトは、 3 つのサイトで 6+3 のイレイジャーコーディングを使用して格納されます。ルール 2 がオブジェクト 1MB 以下に一致しないため、これらのオブジェクトはルール 3 に照らして評価されます。

ルール 3 はポリシー内の最後のルールで、デフォルトのルールであり、フィルタは使用しません。ルール 3 では、ルール 1 またはルール 2 に一致しないすべてのオブジェクトのレプリケートコピーを 2 つ作成します（ 1MB 以下のテナント A に属していないオブジェクト）。

image::../media/ilm_policy_and_rules.png[ILM のポリシーとルール]



== ドラフトポリシー、アクティブポリシー、履歴ポリシーとは何ですか？

各 StorageGRID システムには、アクティブな ILM ポリシーが 1 つ必要です。StorageGRID システムでは、ドラフトの ILM ポリシーを 1 つと任意の数の履歴ポリシーを使用できます。

初めて ILM ポリシーを作成するときは、 ILM ルールを 1 つ以上選択して特定の順序で並べ、ドラフトポリシーを作成します。ドラフトポリシーをシミュレートして動作を確認したら、そのポリシーをアクティブ化してアクティブポリシーを作成します。

新しい ILM ポリシーをアクティブ StorageGRID 化すると、そのポリシーを使用して、既存のオブジェクトと新たに取り込まれたオブジェクトを含むすべてのオブジェクトが管理されます。新しいポリシーの ILM ルールが実装されたときに、既存のオブジェクトが新しい場所に移動されることがあります。

ドラフトポリシーをアクティブ化すると、それまでのアクティブポリシーは履歴ポリシーになります。ILM 履歴ポリシーは削除できません。

image::../media/ilm_policies_proposed_active_historical.png[ILM ポリシーの概念図]

xref:creating-ilm-policy.adoc[ILM ポリシーを作成する]
