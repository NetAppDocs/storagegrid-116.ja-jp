---
permalink: ilm/example-1-ilm-rules-and-policy-for-object-storage.html 
sidebar: sidebar 
keywords: example ILM rule, information lifecycle rule examples 
summary: 以下に記載するサンプルルールとポリシーをベースに、それぞれのオブジェクトの保護および保持要件を満たす ILM ポリシーを定義できます。 
---
= 例 1 ：オブジェクトストレージの ILM ルールとポリシー
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
以下に記載するサンプルルールとポリシーをベースに、それぞれのオブジェクトの保護および保持要件を満たす ILM ポリシーを定義できます。


CAUTION: 以下の ILM ルールとポリシーは一例にすぎません。ILM ルールを設定する方法は多数あります。新しいポリシーをアクティブ化する前に、ドラフトポリシーをシミュレートして、コンテンツの損失を防ぐためにドラフトポリシーが想定どおりに機能することを確認してください。



== 例 1 の ILM ルール 1 ： 2 つのデータセンターへのオブジェクトデータのコピー

この ILM ルールの例では、 2 つのデータセンター内のストレージプールにオブジェクトデータをコピーします。

[cols="1a,2a"]
|===
| ルール定義 | 値の例 


 a| 
ストレージプール
 a| 
別々のデータセンターに 2 つのストレージプール、 Storage Pool DC1 および Storage Pool DC2



 a| 
ルール名
 a| 
2 つのコピーで 2 つのデータセンターを構成し



 a| 
参照時間
 a| 
取り込み時間



 a| 
コンテンツ配置
 a| 
0 日目にレプリケートされたコピーを 2 つ無期限に保存 -- Storage Pool DC1 に 1 つ、 Storage Pool DC2 に 1 つ。

|===
image::../media/ilm_rule_two_copies_two_data_centers.png[例 1 の ILM ルール 1 ： 2 つのデータセンターへのオブジェクトデータのコピー]



== 例 1 の ILM ルール 2 ：イレイジャーコーディングプロファイルとバケットの照合

この ILM ルールの例では、イレイジャーコーディングプロファイルと S3 バケットを使用して、オブジェクトの格納先と格納期間を決定します。

[cols="1a,2a"]
|===
| ルール定義 | 値の例 


 a| 
イレイジャーコーディングプロファイル
 a| 
* 3 つのデータセンター（ 3 つすべてのサイト）にまたがる 1 つのストレージプール
* 6+3 イレイジャーコーディングスキームを使用




 a| 
ルール名
 a| 
S3 バケット finance-records の EC



 a| 
参照時間
 a| 
取り込み時間



 a| 
コンテンツ配置
 a| 
finance-records という名前の S3 バケット内のオブジェクトに対し、イレイジャーコーディングコピーをイレイジャーコーディングプロファイルで指定されたプールに 1 つ作成します。このコピーを無期限に保持します。

|===
image:../media/ilm_rule_ec_for_s3_bucket_finance_records.png["例 1 の ILM ルール 2 ：イレイジャーコーディングプロファイルとバケットの照合"]



== 例 1 の ILM ポリシー

StorageGRID システムでは、高度で複雑な ILM ポリシーを設計できますが、実際には、ほとんどの ILM ポリシーはシンプルです。

マルチサイトトポロジの一般的な ILM ポリシーには、次のような ILM ルールが含まれています。

* 取り込み時に、 6+3 イレイジャーコーディングを使用して、「 finance-records 」という名前の S3 バケットに属するすべてのオブジェクトを 3 つのデータセンターに格納します。
* オブジェクトが最初の ILM ルールに一致しない場合は、ポリシーのデフォルトの ILM ルールである 2 つのデータセンターを使用して、 DC1 と DC2 の 2 つのデータセンターにそのオブジェクトのコピーを格納します。
+
image::../media/policy_1_configured_policy.png[例 1 の ILM ポリシー]


