---
permalink: ilm/what-erasure-coding-is.html 
sidebar: sidebar 
keywords: what is erasure coding, what is ec 
summary: イレイジャーコーディングは、オブジェクトデータを格納するために StorageGRID で使用される 2 つ目の方法です。StorageGRID がイレイジャーコーディングコピーを作成するために設定された ILM ルールとオブジェクトを照合する場合は、オブジェクトデータを複数のデータフラグメントに分割し、追加のパリティフラグメントを計算して、各フラグメントを別のストレージノードに格納します。アクセスされたオブジェクトは、格納されたフラグメントを使用して再アセンブルされます。データフラグメントまたはパリティフラグメントが破損したり失われたりしても、イレイジャーコーディングアルゴリズムが残りのデータフラグメントとパリティフラグメントを使用してそのフラグメントを再作成します。 
---
= イレイジャーコーディングとは
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
イレイジャーコーディングは、オブジェクトデータを格納するために StorageGRID で使用される 2 つ目の方法です。StorageGRID がイレイジャーコーディングコピーを作成するために設定された ILM ルールとオブジェクトを照合する場合は、オブジェクトデータを複数のデータフラグメントに分割し、追加のパリティフラグメントを計算して、各フラグメントを別のストレージノードに格納します。アクセスされたオブジェクトは、格納されたフラグメントを使用して再アセンブルされます。データフラグメントまたはパリティフラグメントが破損したり失われたりしても、イレイジャーコーディングアルゴリズムが残りのデータフラグメントとパリティフラグメントを使用してそのフラグメントを再作成します。

次の例は、オブジェクトのデータに対するイレイジャーコーディングアルゴリズムの使用方法を示しています。この例の ILM ルールでは 4+2 のイレイジャーコーディングスキームを使用します。各オブジェクトは 4 つのデータフラグメントに等分され、オブジェクトデータから 2 つのパリティフラグメントが計算されます。ノードやサイトの障害時にもデータが保護されるよう、 6 つの各フラグメントは 3 つのデータセンターサイトの別々のノードに格納されます。

image::../media/ec_three_sites_4_plus_2.png[イレイジャーコーディング、 3 サイト、 4+2]

4+2 のイレイジャーコーディングスキームでは、少なくとも 9 個のストレージノードが必要です。このノードには、 3 つのサイトそれぞれに 3 個のストレージノードが必要です。6 つのうちのいずれか 4 つのフラグメント（データまたはパリティ）が使用可能であれば、オブジェクトを読み出すことができます。最大 2 つのフラグメントが失われても、オブジェクトデータが失われることはありません。データセンターサイト全体で障害が発生した場合でも、他のすべてのフラグメントに引き続きアクセスできれば、オブジェクトの読み出しまたは修復が可能です。

image::../media/ec_recoverable_4_plus_2.png[イレイジャーコーディング、リカバリ可能、 4+2]

3 つ以上のストレージノードが失われると、オブジェクトを読み出せなくなります。

image::../media/ec_unrecoverable_4_plus_2.png[イレイジャーコーディング、リカバリ不能、 4+2]

.関連情報
* xref:what-storage-pool-is.adoc[ストレージプールとは]
* xref:what-erasure-coding-schemes-are.adoc[イレイジャーコーディングスキームとは]
* xref:creating-erasure-coding-profile.adoc[イレイジャーコーディングプロファイルを作成]

