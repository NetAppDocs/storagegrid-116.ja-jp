---
permalink: ilm/creating-default-ilm-rule.html 
sidebar: sidebar 
keywords: create default ilm rule 
summary: ILM ポリシーを作成する前に、デフォルトルールを作成して、ポリシー内の別のルールに一致しないオブジェクトを配置する必要があります。デフォルトルールではフィルタを使用できません。すべてのテナント、すべてのバケット、およびすべてのオブジェクトバージョンに適用する必要があります。 
---
= デフォルトの ILM ルールを作成します
:icons: font
:imagesdir: ../media/


[role="lead"]
ILM ポリシーを作成する前に、デフォルトルールを作成して、ポリシー内の別のルールに一致しないオブジェクトを配置する必要があります。デフォルトルールではフィルタを使用できません。すべてのテナント、すべてのバケット、およびすべてのオブジェクトバージョンに適用する必要があります。

.必要なもの
* を使用して Grid Manager にサインインします xref:../admin/web-browser-requirements.adoc[サポートされている Web ブラウザ]。
* 特定のアクセス権限が必要です。


デフォルトルールは ILM ポリシーで評価される最後のルールであるため、フィルタも参照時間も使用できません。デフォルトルールの配置手順は、ポリシー内の別のルールに一致しないオブジェクトに適用されます。

次のポリシーの例では、最初のルールがテナント A に属するオブジェクトにのみ適用されますデフォルトルールである最後のルールは、他のすべてのテナントアカウントに属する環境 オブジェクトです。

image::../media/ilm_policies_page_default_rule.png[ILM ポリシーページのデフォルトルール]

デフォルトルールを作成するときは、次の要件に注意してください。

* デフォルトのルールは、ポリシーの最後のルールとして自動的に配置されます。
* デフォルトルールでは、基本フィルタまたは詳細フィルタは使用できません。
* デフォルトルールはすべてのオブジェクトバージョンに適用される必要があるため、最新でない時間参照時間を使用することはできません。
* デフォルトのルールでレプリケートコピーを作成する必要があります。
+

IMPORTANT: イレイジャーコーディングコピーを作成するルールはポリシーのデフォルトルールとして使用しないでください。イレイジャーコーディングルールでは、高度なフィルタを使用して、小さなオブジェクトがイレイジャーコーディングされないようにします。

* 一般に、デフォルトルールではオブジェクトを無期限に保持する必要があります。
* S3 オブジェクトのグローバルロック設定を使用している（または有効にする）場合は、アクティブポリシーまたはドラフトポリシーのデフォルトルールが準拠している必要があります。


.手順
. [* ILM*>* Rules] を選択します。
+
ILM ルールページが表示されます。

. 「 * Create * 」を選択します。
+
Create ILM Rule ウィザードの Step 1 （ Define Basics ）が表示されます。

. [* 名前 *] フィールドに、ルールの一意の名前を入力します。
. 必要に応じて、ルールの短い概要 を * 概要 * フィールドに入力します。
. [* Tenant Accounts] フィールドは空白のままにします。
+
デフォルトのルールをすべてのテナントアカウントに適用する必要があります。

. Bucket Name * フィールドは空白のままにします。
+
デフォルトルールは、すべての S3 バケットと Swift コンテナに適用する必要があります。

. 「 * 高度なフィルタリング * 」は選択しないでください
+
デフォルトルールでフィルタを指定することはできません。

. 「 * 次へ * 」を選択します。
+
ステップ 2 （配置を定義）が表示されます。

. 参照時間には、「 noncurrent Time * 」以外の任意のオプションを選択します。
+
デフォルトのルールは、すべてのオブジェクトバージョンを適用する必要があります。

. デフォルトルールの配置手順を指定します。
+
** デフォルトルールではオブジェクトを無期限に保持する必要があります。デフォルトルールによってオブジェクトが無期限に保持されない場合、新しいポリシーをアクティブ化すると警告が表示されます。これが想定どおりの動作であることを確認する必要があります。
** デフォルトのルールでレプリケートコピーを作成する必要があります。
+

IMPORTANT: イレイジャーコーディングコピーを作成するルールはポリシーのデフォルトルールとして使用しないでください。イレイジャーコーディングルールでは、高度なフィルタ「 * Object Size （ MB ） than 0.2 」を含めて、小さいオブジェクトがイレイジャーコーディングされないようにします。

** S3 オブジェクトのグローバルロック設定を使用している（または有効にする）場合は、デフォルトルールが準拠している必要があります。
+
*** 2 つ以上のレプリケートオブジェクトコピーまたは 1 つのイレイジャーコーディングコピーを作成する。
*** これらのコピーが、配置手順の各ラインの間、ストレージノード上に存在している必要があります。
*** オブジェクトコピーをクラウドストレージプールに保存することはできません。
*** オブジェクトコピーをアーカイブノードに保存することはできません。
*** 配置手順の少なくとも 1 行は、参照時間として取り込み時間を使用して 0 日目から開始する必要があります。
*** 配置手順の少なくとも 1 行は「無期限」である必要があります。




. [* 更新 * ] を選択して保持図を更新し ' 配置手順を確認します
. 「 * 次へ * 」を選択します。
+
ステップ 3 （取り込み動作の定義）が表示されます。

. オブジェクトの取り込み時に使用するデータ保護オプションを選択し、 * 保存 * を選択します。

