---
permalink: tenant/understanding-tenant-management-api.html 
sidebar: sidebar 
keywords: how to understand tenant management api 
summary: Tenant Manager のユーザインターフェイスの代わりにテナント管理 REST API を使用してシステム管理タスクを実行できます。たとえば、 API を使用して処理を自動化したり、ユーザなどの複数のエンティティを迅速に作成したりできます。 
---
= テナント管理 API について理解する
:icons: font
:imagesdir: ../media/


[role="lead"]
Tenant Manager のユーザインターフェイスの代わりにテナント管理 REST API を使用してシステム管理タスクを実行できます。たとえば、 API を使用して処理を自動化したり、ユーザなどの複数のエンティティを迅速に作成したりできます。

テナント管理 API ：

* Swagger オープンソース API プラットフォームを使用します。Swagger では、開発者でもそうでないユーザでも、わかりやすいユーザインターフェイスを利用して API を操作できます。Swagger のユーザインターフェイスでは、各 API 処理に関する詳細情報とドキュメントを参照できます。
* 使用 xref:tenant-management-api-versioning.adoc[無停止アップグレードをサポートするためのバージョン管理]。


Swagger のテナント管理 API のドキュメントにアクセスするには、次の手順を実行します。

.手順
. Tenant Manager にサインインします。
. Tenant Manager の上部でヘルプアイコンを選択して、 * API Documentation * を選択します。




== API 処理

テナント管理 API では、使用可能な API 処理が次のセクションに分類されます。

* *account* -- 現在のテナントアカウントに対する処理。ストレージの使用状況情報の取得も含まれます。
* *auth* -- ユーザセッション認証を実行するための操作。
+
テナント管理 API では、 Bearer トークン認証方式がサポートされています。テナントにログインするには、認証要求（「 POST/api/v3/authorize 」）の JSON の本文にユーザ名、パスワード、アカウント ID を指定します。ユーザが認証されると、セキュリティトークンが返されます。このトークンは、後続の API 要求（「 Authorization ： Bearer トークン」）のヘッダーで指定する必要があります。

+
認証セキュリティの向上については、を参照してください xref:protecting-against-cross-site-request-forgery-csrf.adoc[クロスサイトリクエストフォージェリから保護]。

+

NOTE: StorageGRID システムでシングルサインオン（ SSO ）が有効になっている場合は、別の手順による認証が必要です。を参照してください xref:../admin/using-grid-management-api.adoc[Grid 管理 API の使用手順]。

* *config * -- 製品リリースとテナント管理 API のバージョンに関連する操作。製品リリースバージョンおよびそのリリースでサポートされる API のメジャーバージョンを一覧表示できます。
* *containers * -- S3 バケットまたは Swift コンテナに対する次の処理。
+
* S3 *

+
** バケットの作成（ S3 オブジェクトのロックを有効にした場合と無効な場合）
** バケットのデフォルト保持設定の変更（ S3 オブジェクトロックが有効なバケットの場合）
** オブジェクトに対して実行される処理の整合性制御を設定します
** バケットの CORS 設定を作成、更新、および削除する
** オブジェクトの最終アクセス日時の更新を有効または無効にします
** CloudMirror レプリケーション、通知、検索統合（メタデータ通知）などのプラットフォームサービスの設定を管理します。
** 空のバケットを削除します


+
* Swift * ：コンテナに使用する整合性レベルを設定します

* * deactivated-features * -- 非アクティブ化された可能性のある機能を表示する操作。
* * endpoints * -- エンドポイントを管理するための処理。エンドポイントを使用することで、 S3 バケットは外部のサービスを StorageGRID CloudMirror レプリケーション、通知、または検索統合に使用できます。
* *groups * -- ローカルテナントグループを管理し、外部アイデンティティソースからフェデレーテッドテナントグループを取得するための処理。
* * identity-source * -- 外部のアイデンティティソースを設定する処理、およびフェデレーテッドグループとユーザ情報を手動で同期する処理。
* *regions* -- StorageGRID システムに設定されているリージョンを判別するための処理。
* * s3 * - テナントユーザの S3 アクセスキーを管理する処理。
* * s3-object-lock * -- グローバルな S3 オブジェクトロック設定に対する処理。コンプライアンスのサポートに使用されます。
* * users * -- テナントユーザーを表示および管理するための操作。




== 処理の詳細

各 API 処理を展開表示すると、 HTTP アクション、エンドポイント URL 、必須またはオプションのパラメータのリスト、要求の本文の例（必要な場合）、想定される応答を確認できます。

image::../media/tenant_api_swagger_example.gif[Swagger API での GET groups 処理を示す例]



== 問題 API 要求


IMPORTANT: API Docs Web ページを使用して実行する API 処理はすべてその場で実行されます。設定データやその他のデータを誤って作成、更新、または削除しないように注意してください。

.手順
. HTTP アクションを選択して、要求の詳細を表示します。
. グループやユーザの ID など、要求で追加のパラメータが必要かどうかを確認します。次に、これらの値を取得します。必要な情報を取得するために、先に別の API 要求の問題 が必要になることがあります。
. 要求の本文の例を変更する必要があるかどうかを判断します。その場合は、 * Model * を選択して各フィールドの要件を確認できます。
. [* 試してみてください * ] を選択します。
. 必要なパラメータを指定するか、必要に応じて要求の本文を変更します。
. [* Execute] を選択します。
. 応答コードを確認し、要求が成功したかどうかを判断します。

