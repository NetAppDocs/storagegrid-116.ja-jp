---
permalink: swift/monitoring-and-auditing-operations.html 
sidebar: sidebar 
keywords: monitor operations, audit operations 
summary: グリッド全体または特定のノードのトランザクションの傾向を確認することで、クライアント処理のワークロードと効率を監視できます。監査メッセージを使用して、クライアント処理とトランザクションを監視できます。 
---
= 監視と監査の処理
:icons: font
:imagesdir: ../media/


[role="lead"]
グリッド全体または特定のノードのトランザクションの傾向を確認することで、クライアント処理のワークロードと効率を監視できます。監査メッセージを使用して、クライアント処理とトランザクションを監視できます。



== オブジェクトの取り込み速度と読み出し速度を監視する

オブジェクトの取り込み速度と読み出し速度、およびオブジェクト数、クエリ、検証関連の指標を監視できます。StorageGRID システムのオブジェクトに対してクライアントアプリケーションが試みた読み取り、書き込み、変更の各処理について、成功した回数と失敗した回数を表示できます。

.手順
. を使用して Grid Manager にサインインします xref:../admin/web-browser-requirements.adoc[サポートされている Web ブラウザ]。
. ダッシュボードで、プロトコル操作セクションを探します。
+
このセクションには、 StorageGRID システムによって実行されたクライアント処理の回数に関する概要が表示されます。プロトコル速度は過去 2 分間の平均値です。

. [* nodes （ノード） ] を選択します
. ノードのホームページ（導入レベル）で、 * ロードバランサ * タブをクリックします。
+
このグラフには、グリッド内でロードバランサエンドポイントに送信されるすべてのクライアントトラフィックの傾向が表示されます。時間、日、週、月、年単位の間隔を選択できます。 または、カスタムの間隔を適用することもできます。

. ノードのホームページ（導入レベル）で、 * Objects * タブをクリックします。
+
グラフには、 StorageGRID システム全体の取り込み速度と読み出し速度が、 1 秒あたりのバイト数と合計バイト数で表示されます。時間、日、週、月、年単位の間隔を選択できます。 または、カスタムの間隔を適用することもできます。

. 特定のストレージノードに関する情報を表示するには、左側のリストからノードを選択し、 * Objects * タブをクリックします。
+
グラフには、このストレージノードのオブジェクトの取り込み速度と読み出し速度が表示されます。このタブには、オブジェクト数、クエリ、検証関連の指標も表示されます。ラベルをクリックすると、これらの指標の定義を確認できます。

+
image::../media/nodes_storage_node_objects_help.png[ノード > ストレージノード > オブジェクト > 属性ヘルプのスクリーンショット]

. さらに詳細な情報が必要な場合は、次の手順に従います
+
.. サポート * > * ツール * > * グリッドトポロジ * を選択します。
.. [*_site *>] > [* Overview *] > [* Main*] を選択します。
+
API Operations セクションには、グリッド全体の概要情報が表示されます。

.. 「 * _ ストレージノード _ * > * LDR * > * _ クライアントアプリケーション _ * > * 概要 * > * Main * 」を選択します
+
Operations セクションには、選択したストレージノードに関する概要情報が表示されます。







== 監査ログにアクセスして確認する

監査メッセージは StorageGRID サービスによって生成され、テキスト形式のログファイルに保存されます。監査ログの API 固有の監査メッセージにより、セキュリティ、運用、およびパフォーマンスについて、システムの健全性の評価に役立つ重要な監視データが提供されます。

.必要なもの
* 特定のアクセス権限が必要です。
* 「 passwords.txt 」ファイルが必要です。
* 管理ノードの IP アドレスを確認しておく必要があります。


アクティブな監査ログ・ファイルの名前は「 audit.log 」で、管理ノードに保存されます。

1 日に 1 回、アクティブな audit.log ファイルが保存され、新しい audit.log ファイルが開始されます。保存されたファイルの名前は、保存された日時を「 yyyy-mm-dd.txt 」の形式で示します。

1 日後、保存されたファイルは圧縮され、元の日付を保持する「 yyyy-mm-dd.txt.gz 」形式で名前が変更されます。

この例は、アクティブな audit.log ファイル、前日のファイル（ 2018-04-15.txt ）、および前日の圧縮ファイル（「 2018-04-14.txt.gz 」）を示しています。

[listing]
----
audit.log
2018-04-15.txt
2018-04-14.txt.gz
----
.手順
. 管理ノードにログインします。
+
.. 次のコマンドを入力します。「 ssh_admin@primary_Admin_Node_ip_ 」
.. 「 passwords.txt 」ファイルに記載されたパスワードを入力します。


. 監査ログファイルが格納されているディレクトリに移動します :`cd /var/local/audit/export`
. 必要に応じて、現在の監査ログファイルまたは保存された監査ログファイルを表示します。


xref:../audit/index.adoc[監査ログを確認します]



=== 監査ログで追跡される Swift 処理

ストレージに対する成功した DELETE 、 GET 、 HEAD 、 POST 、 PUT の各処理は、 StorageGRID 監査ログで追跡されます。エラーはログに記録されず、情報、認証、オプションの要求も記録されません。

次の Swift 処理で追跡される情報の詳細については、「監査メッセージの概要」を参照してください。



==== アカウントの処理

* GET アカウント
* HEAD アカウント




==== コンテナの処理

* コンテナを削除します
* GET コンテナ
* HEAD コンテナ
* PUT コンテナ




==== オブジェクトの処理

* オブジェクトを削除します
* GET オブジェクト
* HEAD オブジェクト
* PUT オブジェクト


xref:../audit/index.adoc[監査ログを確認します]

xref:account-operations.adoc[アカウントの処理]

xref:container-operations.adoc[コンテナの処理]

xref:object-operations.adoc[オブジェクトの処理]
